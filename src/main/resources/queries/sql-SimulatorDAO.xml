<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="SimulatorDAO">

	<select id="selectInputBySeq" parameterType="map" resultType="com.wdfall.slot.model.vo.SimulatorInputVO">
		SELECT *
		FROM tb_simulator_input
		WHERE seq = #{seq}
	</select>

	
	<insert id="insertInput" parameterType="com.wdfall.slot.model.vo.SimulatorInputVO" useGeneratedKeys="true" keyProperty="seq" > 
		INSERT INTO tb_simulator_input (
			seq
			,stage
			,json_data
			,register_time
			,db_path
			,filename
			)
		VALUES (
			#{seq}
			,#{stage}
			,#{jsonData}
			,#{registerTime}
			,#{dbPath}
			,#{filename}
			)
	</insert>
	
	
	<insert id="insertResult" parameterType="com.wdfall.slot.model.vo.SimulatorResultVO" useGeneratedKeys="true" keyProperty="seq" > 
		INSERT INTO tb_simulator_result (
			seq
			,input_seq
			,stage
			,register_time
			,username
			,play_game_count
			,total_bet
			,payout
			,payout_rate
			,win_game_rate
			,line_payout_rate
			,win_line_rate
			,scatter_payout_rate
			,win_scatter_rate
			,scatter_bonus_payout_rate
			,scatter_freespin_payout_rate
			,win_scatter_bonus_rate
			,win_scatter_freespin_rate
			)
		VALUES (
			#{seq}
			,#{inputSeq}
			,#{stage}
			,#{registerTime}
			,#{username}
			,#{playGameCount}
			,#{totalBet}
			,#{payout}
			,#{payoutRate}
			,#{winGameRate}
			,#{linePayoutRate}
			,#{winLineRate}
			,#{scatterPayoutRate}
			,#{winScatterRate}
			,#{scatterBonusPayoutRate}
			,#{scatterFreespinPayoutRate}
			,#{winScatterBonusRate}
			,#{winScatterFreespinRate}
			)
	</insert>
	
	
	<select id="selectResultList" parameterType="map" resultType="com.wdfall.slot.model.vo.SimulatorResultVO">
		SELECT *
		FROM tb_simulator_result
		WHERE stage = #{stage}
		ORDER BY seq DESC
	</select>
	
	<select id="selectResultDetail" parameterType="map" resultType="com.wdfall.slot.model.vo.SimulatorResultVO">
		SELECT *
		FROM tb_simulator_result
		WHERE seq = #{seq}
		ORDER BY seq DESC
	</select>
	
</mapper>